<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `TransientObject` struct in crate `optee_utee`."><meta name="keywords" content="rust, rustlang, rust-lang, TransientObject"><title>optee_utee::object::TransientObject - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../optee_utee/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Struct TransientObject</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.allocate">allocate</a><a href="#method.copy_attribute_from">copy_attribute_from</a><a href="#method.generate_key">generate_key</a><a href="#method.info">info</a><a href="#method.null_object">null_object</a><a href="#method.populate">populate</a><a href="#method.ref_attribute">ref_attribute</a><a href="#method.reset">reset</a><a href="#method.restrict_usage">restrict_usage</a><a href="#method.value_attribute">value_attribute</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Drop">Drop</a><a href="#impl-ObjHandle">ObjHandle</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-RefUnwindSafe">RefUnwindSafe</a><a href="#impl-Send">!Send</a><a href="#impl-Sync">!Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">UnwindSafe</a></div><a class="sidebar-title" href="#blanket-implementations">Blanket Implementations</a><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><p class='location'><a href='../index.html'>optee_utee</a>::<wbr><a href='index.html'>object</a></p><script>window.sidebarCurrent = {name: 'TransientObject', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/optee_utee/object.rs.html#485' title='goto source code'>[src]</a></span><span class='in-band'>Struct <a href='../index.html'>optee_utee</a>::<wbr><a href='index.html'>object</a>::<wbr><a class="struct" href=''>TransientObject</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust struct'>pub struct TransientObject(_);</pre></div><div class='docblock'><p>An object containing attributes but no data stream, which is reclaimed
when closed or when the TA instance is destroyed.
Transient objects are used to hold a cryptographic object (key or key-pair).</p>
<p>Contrast <a href="../../optee_utee/object/struct.PersistentObject.html">PersistentObject</a>.</p>
</div><h2 id='methods' class='small-section-header'>Methods<a href='#methods' class='anchor'></a></h2><h3 id='impl' class='impl'><code class='in-band'>impl <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl' class='anchor'></a><a class='srclink' href='../../src/optee_utee/object.rs.html#487-825' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.null_object' class="method"><code id='null_object.v'>pub fn <a href='#method.null_object' class='fnname'>null_object</a>() -&gt; Self</code><a class='srclink' href='../../src/optee_utee/object.rs.html#489-491' title='goto source code'>[src]</a></h4><div class='docblock'><p>Create a <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a> with a null handle which points to nothing.</p>
</div><h4 id='method.allocate' class="method"><code id='allocate.v'>pub fn <a href='#method.allocate' class='fnname'>allocate</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;object_type: <a class="enum" href="../../optee_utee/object/enum.TransientObjectType.html" title="enum optee_utee::object::TransientObjectType">TransientObjectType</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;max_object_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a><br>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;Self&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#528-539' title='goto source code'>[src]</a></h4><div class='docblock'><p>Allocate an uninitialized <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a>, i.e. a container for attributes.</p>
<p>As allocated, the object is uninitialized.
It can be initialized by subsequently importing the object material, generating an object,
deriving an object, or loading an object from the Trusted Storage.</p>
<h1 id="parameters" class="section-header"><a href="#parameters">Parameters</a></h1>
<ol>
<li><code>object_type</code>: Type of uninitialized object container to be created as defined in
<a href="../../optee_utee/object/enum.TransientObjectType.html">TransientObjectType</a>.</li>
<li><code>max_object_size</code>: Key Size of the object. Valid values depend on the object type and are
defined in <a href="../../optee_utee/object/enum.TransientObjectType.html">TransientObjectType</a>.</li>
</ol>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span>
    {
        <span class="comment">// ...</span>
        <span class="prelude-val">Ok</span>(())
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="errors" class="section-header"><a href="#errors">Errors</a></h1>
<ol>
<li><code>OutOfMemory</code>: If not enough resources are available to allocate the object handle.</li>
<li><code>NotSupported</code>: If the key size is not supported or the object type is not supported.</li>
</ol>
<h1 id="panics" class="section-header"><a href="#panics">Panics</a></h1>
<ol>
<li>If the Implementation detects any error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div><h4 id='method.reset' class="method"><code id='reset.v'>pub fn <a href='#method.reset' class='fnname'>reset</a>(&amp;mut self)</code><a class='srclink' href='../../src/optee_utee/object.rs.html#544-548' title='goto source code'>[src]</a></h4><div class='docblock'><p>Reset a <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a> to its initial state after allocation.
If the object is currently initialized, the function clears the object of all its material.
The object is then uninitialized again.</p>
</div><h4 id='method.populate' class="method"><code id='populate.v'>pub fn <a href='#method.populate' class='fnname'>populate</a>(&amp;mut self, attrs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="struct" href="../../optee_utee/object/struct.Attribute.html" title="struct optee_utee::object::Attribute">Attribute</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#586-594' title='goto source code'>[src]</a></h4><div class='docblock'><p>Populate an uninitialized object container with object attributes passed by the TA in the <code>attrs</code> parameter.
When this function is called, the object SHALL be uninitialized.
If the object is initialized, the caller SHALL first clear it using the function reset.
Note that if the object type is a key-pair, then this function sets both the private and public attributes of the keypair.</p>
<h1 id="parameters-1" class="section-header"><a href="#parameters-1">Parameters</a></h1>
<ol>
<li><code>attrs</code>: Array of object attributes.</li>
</ol>
<h1 id="example-1" class="section-header"><a href="#example-1">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span>
    {
        <span class="kw">let</span> <span class="ident">attrs</span> <span class="op">=</span> [<span class="ident">AttributeMemref</span>::<span class="ident">from_ref</span>(<span class="ident">AttributeId</span>::<span class="ident">SecretValue</span>, <span class="kw-2">&amp;</span>[<span class="number">0u8</span>;<span class="number">1</span>])];
        <span class="ident">object</span>.<span class="ident">populate</span>(<span class="kw-2">&amp;</span><span class="ident">attrs</span>);
        <span class="prelude-val">Ok</span>(())
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="errors-1" class="section-header"><a href="#errors-1">Errors</a></h1>
<ol>
<li><code>BadParameters</code>: If an incorrect or inconsistent attribute value is detected. In this case,
the content of the object SHALL remain uninitialized.</li>
</ol>
<h1 id="panics-1" class="section-header"><a href="#panics-1">Panics</a></h1>
<ol>
<li>If object is not a valid opened object that is transient and uninitialized.</li>
<li>If some mandatory attribute is missing.</li>
<li>If an attribute which is not defined for the object’s type is present in attrs.</li>
<li>If an attribute value is too big to fit within the maximum object size specified when the object was created.</li>
<li>If the Implementation detects any other error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div><h4 id='method.info' class="method"><code id='info.v'>pub fn <a href='#method.info' class='fnname'>info</a>(&amp;self) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="struct" href="../../optee_utee/object/struct.ObjectInfo.html" title="struct optee_utee::object::ObjectInfo">ObjectInfo</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#619-621' title='goto source code'>[src]</a></h4><div class='docblock'><p>Return the characteristics of an object.</p>
<h1 id="example-2" class="section-header"><a href="#example-2">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span> {
        <span class="kw">match</span> <span class="ident">object</span>.<span class="ident">info</span>() {
            <span class="prelude-val">Ok</span>(<span class="ident">info</span>) <span class="op">=&gt;</span> {
                <span class="comment">// ...</span>
                <span class="prelude-val">Ok</span>(())
            }
        <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="panics-2" class="section-header"><a href="#panics-2">Panics</a></h1>
<ol>
<li>If object is not a valid opened object.</li>
<li>If the Implementation detects any other error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div><h4 id='method.restrict_usage' class="method"><code id='restrict_usage.v'>pub fn <a href='#method.restrict_usage' class='fnname'>restrict_usage</a>(&amp;mut self, obj_usage: <a class="struct" href="../../optee_utee/object/struct.UsageFlag.html" title="struct optee_utee::object::UsageFlag">UsageFlag</a>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#649-651' title='goto source code'>[src]</a></h4><div class='docblock'><p>Restrict the object usage flags of an object handle to contain at most the flags passed in the obj_usage parameter.</p>
<p>The initial value of the key usage contains all usage flags.</p>
<h1 id="parameters-2" class="section-header"><a href="#parameters-2">Parameters</a></h1>
<ol>
<li><code>obj_usage</code>: New object usage, an OR comination of one or more of the <a href="../../optee_utee/object/struct.UsageFlag.html">UsageFlag</a>.</li>
</ol>
<h1 id="example-3" class="section-header"><a href="#example-3">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span>
    {
        <span class="ident">object</span>.<span class="ident">restrict_usage</span>(<span class="ident">UsageFlag</span>::<span class="ident">ENCRYPT</span>)<span class="question-mark">?</span>;
        <span class="prelude-val">Ok</span>(())
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="panics-3" class="section-header"><a href="#panics-3">Panics</a></h1>
<ol>
<li>If object is not a valid opened object.</li>
<li>If the Implementation detects any other error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div><h4 id='method.ref_attribute' class="method"><code id='ref_attribute.v'>pub fn <a href='#method.ref_attribute' class='fnname'>ref_attribute</a>(&amp;self, id: <a class="enum" href="../../optee_utee/object/enum.AttributeId.html" title="enum optee_utee::object::AttributeId">AttributeId</a>, buffer: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;mut [</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#688-690' title='goto source code'>[src]</a></h4><div class='docblock'><p>Extract one buffer attribute from an object. The attribute is identified by the argument id.</p>
<h1 id="parameters-3" class="section-header"><a href="#parameters-3">Parameters</a></h1>
<ol>
<li><code>id</code>: Identifier of the attribute to retrieve.</li>
<li><code>ref_attr</code>: Output buffer to get the content of the attribute.</li>
</ol>
<h1 id="example-4" class="section-header"><a href="#example-4">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span> {
        <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">attr</span> <span class="op">=</span> [<span class="number">0u8</span>; <span class="number">16</span>];
        <span class="kw">match</span> <span class="ident">object</span>.<span class="ident">ref_attribute</span>(<span class="ident">id</span>, <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">attr</span>) {
            <span class="prelude-val">Ok</span>(<span class="ident">size</span>) <span class="op">=&gt;</span> {
                <span class="comment">// ...</span>
                <span class="prelude-val">Ok</span>(())
            }
            <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
        }
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="errors-2" class="section-header"><a href="#errors-2">Errors</a></h1>
<ol>
<li><code>ItemNotFound</code>: If the attribute is not found on this object.</li>
<li><code>ShortBuffer</code>: If buffer is NULL or too small to contain the key part.</li>
</ol>
<h1 id="panics-4" class="section-header"><a href="#panics-4">Panics</a></h1>
<ol>
<li>If object is not a valid opened object.</li>
<li>If the object is not initialized.</li>
<li>If the Attribute is not a buffer attribute.</li>
</ol>
</div><h4 id='method.value_attribute' class="method"><code id='value_attribute.v'>pub fn <a href='#method.value_attribute' class='fnname'>value_attribute</a>(&amp;self, id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#725-727' title='goto source code'>[src]</a></h4><div class='docblock'><p>Extract one value attribute from an object. The attribute is identified by the argument id.</p>
<h1 id="parameters-4" class="section-header"><a href="#parameters-4">Parameters</a></h1>
<ol>
<li><code>id</code>: Identifier of the attribute to retrieve.</li>
<li><code>value_attr</code>: Two value placeholders to get the content of the attribute.</li>
</ol>
<h1 id="example-5" class="section-header"><a href="#example-5">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span> {
        <span class="kw">match</span> <span class="ident">object</span>.<span class="ident">value_attribute</span>(<span class="ident">id</span>) {
            <span class="prelude-val">Ok</span>(<span class="ident">a</span>,<span class="ident">b</span>) <span class="op">=&gt;</span> {
                <span class="comment">// ...</span>
                <span class="prelude-val">Ok</span>(())
            }
            <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
        }
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="errors-3" class="section-header"><a href="#errors-3">Errors</a></h1>
<ol>
<li><code>ItemNotFound</code>: If the attribute is not found on this object.</li>
</ol>
<h1 id="panics-5" class="section-header"><a href="#panics-5">Panics</a></h1>
<ol>
<li>If object is not a valid opened object.</li>
<li>If the object is not initialized.</li>
<li>If the Attribute is not a value attribute.</li>
</ol>
</div><h4 id='method.copy_attribute_from' class="method"><code id='copy_attribute_from.v'>pub fn <a href='#method.copy_attribute_from' class='fnname'>copy_attribute_from</a>&lt;T:&nbsp;<a class="trait" href="../../optee_utee/object/trait.ObjHandle.html" title="trait optee_utee::object::ObjHandle">ObjHandle</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;src_object: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T<br>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#770-775' title='goto source code'>[src]</a></h4><div class='docblock'><p>Populates an uninitialized object handle with the attributes of another object handle;
that is, it populates the attributes of this handle with the attributes of src_handle.
It is most useful in the following situations:</p>
<ol>
<li>To extract the public key attributes from a key-pair object.</li>
<li>To copy the attributes from a <a href="../../optee_utee/object/struct.PersistentObject.html">PersistentObject</a> into a <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a>.</li>
</ol>
<h1 id="parameters-5" class="section-header"><a href="#parameters-5">Parameters</a></h1>
<ol>
<li><code>src_object</code>: Can be either a <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a> or <a href="../../optee_utee/object/struct.PersistentObject.html">PersistentObject</a>.</li>
</ol>
<h1 id="example-6" class="section-header"><a href="#example-6">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object1</span>) <span class="op">=&gt;</span>
    {
        <span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">256</span>) {
            <span class="prelude-val">Ok</span>(<span class="ident">object2</span>) <span class="op">=&gt;</span> {
                <span class="ident">object1</span>.<span class="ident">copy_attribute_from</span>(<span class="ident">object2</span>);
                <span class="prelude-val">Ok</span>(())
            }
            <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
        }
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="errors-4" class="section-header"><a href="#errors-4">Errors</a></h1>
<ol>
<li><code>CorruptObject</code>: If the persistentd` object is corrupt. The object handle is closed.</li>
<li><code>StorageNotAvailable</code>: If the <a href="../../optee_utee/object/struct.PersistentObject.html">PersistentObject</a> is stored in a storage area which is
currently inaccessible.</li>
</ol>
<h1 id="panics-6" class="section-header"><a href="#panics-6">Panics</a></h1>
<ol>
<li>If src_object is not initialized.</li>
<li>If self is initialized.</li>
<li>If the type and size of src_object and self are not compatible.</li>
<li>If the Implementation detects any other error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div><h4 id='method.generate_key' class="method"><code id='generate_key.v'>pub fn <a href='#method.generate_key' class='fnname'>generate_key</a>(&amp;self, key_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, params: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="struct" href="../../optee_utee/object/struct.Attribute.html" title="struct optee_utee::object::Attribute">Attribute</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="../../optee_utee/type.Result.html" title="type optee_utee::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../src/optee_utee/object.rs.html#811-824' title='goto source code'>[src]</a></h4><div class='docblock'><p>Generates a random key or a key-pair and populates a transient key object with the generated key material.</p>
<h1 id="parameters-6" class="section-header"><a href="#parameters-6">Parameters</a></h1>
<ol>
<li><code>key_size</code>: the size of the desired key. It SHALL be less than or equal to
the maximum key size specified when the <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a> was created.</li>
</ol>
<h1 id="example-7" class="section-header"><a href="#example-7">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">TransientObject</span>::<span class="ident">allocate</span>(<span class="ident">TransientObjectType</span>::<span class="ident">Aes</span>, <span class="number">128</span>) {
    <span class="prelude-val">Ok</span>(<span class="ident">object</span>) <span class="op">=&gt;</span>
    {
        <span class="ident">object</span>.<span class="ident">generate_key</span>(<span class="number">128</span>, <span class="kw-2">&amp;</span>[])<span class="question-mark">?</span>;
        <span class="prelude-val">Ok</span>(())
    }
    <span class="prelude-val">Err</span>(<span class="ident">e</span>) <span class="op">=&gt;</span> <span class="prelude-val">Err</span>(<span class="ident">e</span>),
}</pre></div>
<h1 id="errors-5" class="section-header"><a href="#errors-5">Errors</a></h1>
<ol>
<li><code>BadParameters</code>: If an incorrect or inconsistent attribute value is detected. In this
case, the content of the object SHALL remain uninitialized.</li>
</ol>
<h1 id="panics-7" class="section-header"><a href="#panics-7">Panics</a></h1>
<ol>
<li>If object is not a valid opened object.</li>
<li>If some mandatory attribute is missing.</li>
<li>If an attribute which is not defined for the object’s type is present in attrs.</li>
<li>If an attribute value is too big to fit within the maximum object size specified when
the object was created.</li>
<li>If the Implementation detects any other error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div></div><h2 id='implementations' class='small-section-header'>Trait Implementations<a href='#implementations' class='anchor'></a></h2><div id='implementations-list'><h3 id='impl-ObjHandle' class='impl'><code class='in-band'>impl <a class="trait" href="../../optee_utee/object/trait.ObjHandle.html" title="trait optee_utee::object::ObjHandle">ObjHandle</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-ObjHandle' class='anchor'></a><a class='srclink' href='../../src/optee_utee/object.rs.html#827-831' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.handle' class="method hidden"><code id='handle.v'>fn <a href='../../optee_utee/object/trait.ObjHandle.html#tymethod.handle' class='fnname'>handle</a>(&amp;self) -&gt; <a class="type" href="../../optee_utee_sys/tee_api_types/type.TEE_ObjectHandle.html" title="type optee_utee_sys::tee_api_types::TEE_ObjectHandle">TEE_ObjectHandle</a></code><a class='srclink' href='../../src/optee_utee/object.rs.html#828-830' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Return the handle of an object.</p>
</div></div><h3 id='impl-Drop' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-Drop' class='anchor'></a><a class='srclink' href='../../src/optee_utee/object.rs.html#833-851' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.drop' class="method"><code id='drop.v'>fn <a href='https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop' class='fnname'>drop</a>(&amp;mut self)</code><a class='srclink' href='../../src/optee_utee/object.rs.html#843-850' title='goto source code'>[src]</a></h4><div class='docblock'><p>Deallocates a <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a> previously allocated.
After this function has been called, the object handle is no longer valid and all resources
associated with the <a href="../../optee_utee/object/struct.TransientObject.html">TransientObject</a> SHALL have been reclaimed.</p>
<h1 id="panics-8" class="section-header"><a href="#panics-8">Panics</a></h1>
<ol>
<li>If object is not a valid opened object.</li>
<li>If the Implementation detects any other error associated with this function which is not
explicitly associated with a defined return code for this function.</li>
</ol>
</div></div></div><h2 id='synthetic-implementations' class='small-section-header'>Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a></h2><div id='synthetic-implementations-list'><h3 id='impl-Send' class='impl'><code class='in-band'>impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-Send' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Unpin' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-Unpin' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><code class='in-band'>impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-Sync' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-RefUnwindSafe' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-RefUnwindSafe' class='anchor'></a></h3><div class='impl-items'></div><h3 id='impl-UnwindSafe' class='impl'><code class='in-band'>impl <a class="trait" href="https://doc.rust-lang.org/nightly/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../../optee_utee/object/struct.TransientObject.html" title="struct optee_utee::object::TransientObject">TransientObject</a></code><a href='#impl-UnwindSafe' class='anchor'></a></h3><div class='impl-items'></div></div><h2 id='blanket-implementations' class='small-section-header'>Blanket Implementations<a href='#blanket-implementations' class='anchor'></a></h2><div id='blanket-implementations-list'><h3 id='impl-From%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</code><a href='#impl-From%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#549-551' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.from' class="method hidden"><code id='from.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from' class='fnname'>from</a>(t: T) -&gt; T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#550' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-Into%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-Into%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#540-545' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.into' class="method hidden"><code id='into.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into' class='fnname'>into</a>(self) -&gt; U</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#542-544' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-TryFrom%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-TryFrom%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#568-574' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error' class="type"><code id='Error.t'>type <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error' class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id='method.try_from' class="method hidden"><code id='try_from.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from' class='fnname'>try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#571-573' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-TryInto%3CU%3E' class='impl'><code class='in-band'>impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></code><a href='#impl-TryInto%3CU%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#556-563' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Error-1' class="type"><code id='Error.t-1'>type <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error' class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></code></h4><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div><h4 id='method.try_into' class="method hidden"><code id='try_into.v'>fn <a href='https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into' class='fnname'>try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/convert.rs.html#560-562' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Performs the conversion.</p>
</div></div><h3 id='impl-BorrowMut%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-BorrowMut%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218-220' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.borrow_mut' class="method hidden"><code id='borrow_mut.v'>fn <a href='https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut' class='fnname'>borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></div><h3 id='impl-Borrow%3CT%3E' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-Borrow%3CT%3E' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#213-215' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.borrow' class="method hidden"><code id='borrow.v'>fn <a href='https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow' class='fnname'>borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#214' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></div><h3 id='impl-Any' class='impl'><code class='in-band'>impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-Any' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/any.rs.html#100-102' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.type_id' class="method hidden"><code id='type_id.v'>fn <a href='https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id' class='fnname'>type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/any.rs.html#101' title='goto source code'>[src]</a></h4><div class='docblock hidden'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g., <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g., <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g., <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "optee_utee";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>